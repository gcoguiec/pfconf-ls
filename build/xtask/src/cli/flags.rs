xflags::xflags! {
    src "./src/cli/flags.rs"
    /// A set of custom cargo commands.
    cmd xtask {
        /// Use verbose output.
        repeated -v, --verbose
        /// Do not print log messages at all.
        optional -q, --quiet

        /// Build configuration language server.
        cmd build-server {
            /// Compiles server with wasm32 target.
            optional -w, --wasm32
        }
        /// Build vscodium extension with its own embedded language server.
        cmd build-vscodium {}
        /// Generate parser and scanner from grammar definition.
        cmd generate-grammar {}

        /// Remove all project build artifacts and their local dependencies.
        cmd clean {}
        /// Remove artifacts generated by server build.
        cmd clean-server {}
        /// Remove grammar project dependencies (i.e node_modules).
        cmd clean-grammar {}
    }
}

// generated start
// The following code is generated by `xflags` macro.
// Run `env UPDATE_XFLAGS=1 cargo build` to regenerate.
#[derive(Debug)]
pub struct Xtask {
    pub verbose: u32,
    pub quiet: bool,
    pub subcommand: XtaskCmd
}

#[derive(Debug)]
pub enum XtaskCmd {
    BuildServer(BuildServer),
    BuildVscodium(BuildVscodium),
    GenerateGrammar(GenerateGrammar),
    Clean(Clean),
    CleanServer(CleanServer),
    CleanGrammar(CleanGrammar)
}

#[derive(Debug)]
pub struct BuildServer {
    pub wasm32: bool
}

#[derive(Debug)]
pub struct BuildVscodium;

#[derive(Debug)]
pub struct GenerateGrammar;

#[derive(Debug)]
pub struct Clean;

#[derive(Debug)]
pub struct CleanServer;

#[derive(Debug)]
pub struct CleanGrammar;

impl Xtask {
    #[allow(dead_code)]
    pub fn from_env_or_exit() -> Self {
        Self::from_env_or_exit_()
    }

    #[allow(dead_code)]
    pub fn from_env() -> xflags::Result<Self> {
        Self::from_env_()
    }

    #[allow(dead_code)]
    pub fn from_vec(args: Vec<std::ffi::OsString>) -> xflags::Result<Self> {
        Self::from_vec_(args)
    }
}
// generated end
